tree("Root")
	parallel
		repeat mute tree("BeAlive")
		repeat mute tree("Die")

tree("BeAlive")
	fallback
		tree("WalkAndAttack")
		tree("ChaseEnemy")
		tree("Idle")

tree("WalkAndAttack")
	while
		sequence
			HasTarget
			IsTargetInWalkRange
			
		fallback
			repeat
				sequence
					not IsTargetInAttackRange 
					RunToWalk
					ChaseTarget
				
			repeat
				sequence
					IsTargetInAttackRange 
					StopMove
					//Wait(0.2)
					tree("Attack")
						
				//sequence
					//not IsTargetInWalkRange
					//Wait(2.0)
					//Fail


tree("ChaseEnemy")
	while 
		sequence
			HasTarget
			not IsTargetInWalkRange
			
		parallel
			repeat
				sequence 
					IsTargetVisible
					not IsTargetInWalkRange
					WalkToRun
					ChaseTarget
			repeat
				sequence
					not IsTargetVisible
					Wait(5.0)
					ClearTarget
					Fail


tree("Idle")
	while
		sequence
			not HasTarget
			not FindTarget

		repeat
			Wait(1.0)
			//WaitRandom(0.5, 2.0)


tree("Attack")
	sequence
		WaitRandom(0.2, 0.4)
		AttackCommandInput
		Wait(0.10)
		AttackCommandCancel

tree("Die")
	IsDead
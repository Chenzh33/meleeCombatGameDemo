tree("Root")
	parallel
		repeat mute tree("BeAlive")
		repeat mute tree("Die")

tree("BeAlive")
	fallback
		tree("Confrontation")
		tree("ChaseEnemy")
		tree("Idle")

tree("Confrontation")
	sequence
		HasTarget
		fallback
			while 
				sequence
					IsTargetInAttackRange 
					not IsTargetInCloseRange 
				race	
					sequence
						//not IsTargetInCloseRange 
						//StopMove
						WaitRandom(0.2,0.5)
						tree("FireAndMove")
					ChaseTarget
					
			sequence
				IsTargetInCloseRange 
				WaitRandom(0.2,0.5)
				tree("RunAway")
						
				
			while not IsTargetInAttackRange
				sequence
					Wait(2.0)
					Fail
				


tree("ChaseEnemy")
	while 
		sequence
			HasTarget
			
		parallel
			fallback
				while not IsTargetInAttackRange 
					ChaseTarget
				sequence 
					IsTargetInAttackRange
					Fail
					
			while not IsTargetVisible
				sequence
					Wait(5.0)
					ClearTarget
					Fail


tree("Idle")
	while
		sequence
			not HasTarget
			not FindTarget

		repeat
			Wait(1.0)


tree("FireAndMove")
	sequence
		StopMove
		WaitRandom(0.2, 0.4)
		RandomFire
		Wait(0.10)
		FireCommandCancel

tree("RunAway")
	sequence
		RandomDodge
		Wait(0.10)
		DodgeCommandCancel


tree("Die")
	IsDead
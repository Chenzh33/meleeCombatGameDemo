tree("Root")
	parallel
		repeat mute tree("BeAlive")
		repeat mute tree("Die")

tree("BeAlive")
	fallback
		tree("Confrontation")
		tree("ChaseEnemy")
		tree("Idle")

tree("Confrontation")
	sequence
		HasTarget
		IsTargetInRange(6.0)
		GenerateAITransition	
		fallback
			sequence
				CheckInIdleState 
				IsTargetInRange(2.5)
				CheckAITransitionInRange(0.0, 0.8)
				tree("Attack")
			sequence
				CheckInIdleState 
				not IsTargetInRange(2.0)
				CheckAITransitionInRange(0.0, 0.15)
				tree("Execute")
			sequence
				CheckInIdleState 
				CheckAITransitionInRange(0.0, 0.75)
				tree("Surrounding")
			sequence
				CheckInIdleState 
				IsTargetInRange(5.0)
				ResetAITransition
				Random
					sequence
						Wait(0.6)
						StopMove
						Wait(0.4)
					sequence
						Wait(0.2)
						StopMove
						Wait(0.8)
			sequence
				ResetAITransition
				Wait(1.0)
						
				
				


//tree("ChaseEnemy")
	//sequence
		//HasTarget
		//not IsTargetInRange(6.0)
		//GenerateAITransition	
		//race	
			//sequence
				//CheckAITransitionInRange(0.0, 0.8)
				//WalkToRun
				//SetInCrowd(false)
				//BeginMove	
				//Wait(1.5)
				//ResetAITransition
			//sequence
				//Wait(1.0)
				//CheckInIdleState 
				//not IsTargetInRange(2.0)
				//CheckAITransitionInRange(0.0, 0.2)
				//ResetAITransition
				//tree("Execute")
				
tree("ChaseEnemy")
	sequence
		HasTarget
		not IsTargetInRange(6.0)
		GenerateAITransition	
		fallback
			sequence
				//Wait(1.0)
				CheckInIdleState 
				IsTargetInFacingRange(90.0)
				not IsTargetInRange(2.0)
				CheckAITransitionInRange(0.0, 0.15)
				ResetAITransition
				tree("Execute")
			sequence
				//CheckAITransitionInRange(0.0, 0.15)
				WalkToRun
				SetInCrowd(false)
				BeginMove	
				Wait(0.5)
				//KeepMove(3.0)
			

tree("Surrounding")
	sequence
		IsTargetInRange(9.0)
		RunToWalk
		SetInCrowd(true)
		ResetAITransition
		BeginMove	
		Wait(1.0)
		//StopMove
	


tree("Idle")
	while
		sequence
			not HasTarget
			not FindTarget

		repeat
			Wait(1.0)


tree("Attack")
	while not GetHit
		sequence
			StopMove
			WaitRandom(0.2, 0.4)
			SetInputVectorToFaceTarget 
			ResetAITransition
			AttackCommandInput
			Wait(0.20)
			AttackCommandCancel
			WaitForTransitionNotLessThan (1)
			sequence
				GenerateAITransition	
				CheckAITransitionInRange(0.0, 0.5)
				AttackCommandInput
				Wait(0.20)
				AttackCommandCancel
				ResetAITransition
				WaitForTransitionNotLessThan (1)

tree("Execute")
	while not GetHit
		sequence
			StopMove
			SetInputVectorToFaceTarget 
			ExecuteCommandInput
			Wait(0.20)
			ExecuteCommandCancel
			WaitForTransitionNotLessThan (1)
			RunToWalk
			Wait(0.50)


tree("Die")
	IsDead